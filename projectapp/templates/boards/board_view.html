{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <style>
	 @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
	 @import url('https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Jua&display=swap');


    </style>
    <meta charset="UTF-8">
    <title>내용 페이지</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="/static/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/animate.css">

    <link rel="stylesheet" href="/static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/static/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="/static/css/magnific-popup.css">

    <link rel="stylesheet" href="/static/css/aos.css">

    <link rel="stylesheet" href="/static/css/ionicons.min.css">

    <link rel="stylesheet" href="/static/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/static/css/jquery.timepicker.css">

<!--    왼쪽 글씨 색깔 변경-->
    <link rel="stylesheet" href="/static/css/flaticon.css">
    <link rel="stylesheet" href="/static/css/icomoon.css">
    <link rel="stylesheet" href="/static/css/style.css">

    <link rel="stylesheet" href="{% static 'css/board/bootstrap.min.css' %}">
</head>

<body style="background-color:#dddddd">
<div id="colorlib-page">
    <a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
    <aside id="colorlib-aside" role="complementary" class="js-fullheight">
        <nav id="colorlib-main-menu" role="navigation">
            <ul>
                <li><a href="/main" style="font-family: 'Do Hyeon', sans-serif; font-size: 35pt;">
                    홈</a></li>
                <br>
                <li><a href="/map1" style="font-family: 'Do Hyeon', sans-serif; font-size: 35pt;">
                    안심식당</a></li>
                <br>
                <li><a href="/map2" style="font-family: 'Do Hyeon', sans-serif; font-size: 35pt;">
                    안심병원<br>& 진료소</a></li>
                <br>
                <li class="colorlib-active"
                =><a href="http://localhost:8000/board" style="font-family: 'Do Hyeon', sans-serif; font-size: 35pt;">
                식당리뷰</a></li><br>
            </ul>
            <p class="social">
                <span><a href="#">로그인</a></span>
                <span><a href="#">회원가입</a></span>
            </p>
        </nav>
    </aside>
	<div id="colorlib-main">
</div>
        <section class="ftco-section ftco-bread ftco-extend-mb">
            <div class="container-fluid px-3 px-md-0">
                <div class="row no-gutters slider-text justify-content-end align-items-center">
                    <div class="col-md-10 ftco-animate">
                        <h1 class="bread" style="font-family: 'Jua', sans-serif;">식당리뷰</h1>
                    </div>
                </div>
            </div>
        </section>

<table>
    <thead>
        <tr class="text-center">
            <th>NO</th>
            <th>제목</th>
            <th>작성자</th>
            <th>작성일</th>
            <th>조회수</th>
            <th>추천수</th>
        </tr>
    </thead>
    <tbody>
        {% if board_list %}
        {% for board in board_list %}
        <tr class="text-center">
            <td>{{ board.id }}</td>
            <td>{{ board.title|truncatechars:30 }}</td>
            <td>{{ board.writer }}</td>
            <td>{{ board.created_date|date:'Y. m. d' }}</td>
            <td>{{ board.hits }}</td>
            <td>{{ board.stars }}</td>
        </tr>
        {% endfor %}
        {% else %}
        <tr class="text-center">
            <td colspan="5">
                작성된 게시글이 없습니다.
            </td>
        </tr>
        {% endif %}
    </tbody>
</table>

<!--페이징 처리를 위한 코드-->
{% if is_paginated %}
<ul class="pagination">
    {% if page_obj.has_previous %}
    <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}"
            tabindex="-1">이전</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1">이전</a>
    </li>
    {% endif %}

    {% for page in page_range %}
    <li class="page-item {% if page == page_obj.number %} activate {% endif %}">
        <a class="page-link" href="?page={{ page }}">{{ page }}</a>
    </li>
    {% endfor %}

    {% if page_obj.has_next %}
    <li class="page-item">
        <a class="page-link"
            href="?page={{ page_obj.next_page_number }}">다음</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" href="#">다음</a>
    </li>
    {% endif %}
</ul>
{% endif %}

<!--게시물 검색 기능 구현   -->

{% if q %}
<h5>'{{ q }}' 검색 결과입니다.</h5>
{% endif %}

{% if notice_list %}
{% for notice in notice_list %}
<tr class="text-center">
    <td>{{ notice.id }}</td>
    <td>{{ notice.title|truncatechars:30 }}</td>
    <td>{{ notice.writer }}</td>
    <td>{{ notice.registered_date|date:'Y. m. d' }}</td>
    <td>{{ notice.hits }}</td>
</tr>
{% endfor %}
{% else %}              <!-- 게시글 쿼리셋이 존재하지 않을 때 -->
    {% if q %}          <!-- 검색어가 있어 q가 context로 넘어오면 검색결과가 없음 -->
    <tr class="text-center">
        <td colspan="5">
            일치하는 검색 결과가 없습니다.
        </td>
    </tr>
    {% else %}          <!-- q가 없으면 검색어가 아니며 게시글이 존재하지 않으므로 게시글 미작성 -->
    <tr class="text-center">
        <td colspan="5">
            작성된 게시글이 없습니다.
        </td>
    </tr>
    {% endif %}
{% endif %}

{% if is_paginated %}
<ul class="pagination">
    {% if page_obj.has_previous %}
    <li class="page-item">
        <a class="page-link" href="?type={{ type }}&q={{ q }}&page={{ page_obj.previous_page_number }}"
            tabindex="-1">이전</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1">이전</a>
    </li>
    {% endif %}

    {% for page in page_range %}
    <li class="page-item {% if page == page_obj.number %} activate {% endif %}">
        <a class="page-link" href="?type={{ type }}&q={{ q }}&page={{ page }}">{{ page }}</a>
    </li>
    {% endfor %}

    {% if page_obj.has_next %}
    <li class="page-item">
        <a class="page-link"
            href="?type={{ type }}&q={{ q }}&page={{ page_obj.next_page_number }}">다음</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" href="#">다음</a>
    </li>
    {% endif %}
</ul>
{% endif %}

    <section class="ftco-section contact-section ftco-no-pt"><section>
  <script src="/static/js/jquery.min.js"></script>
  <script src="/static/js/jquery-migrate-3.0.1.min.js"></script>
  <script src="/static/js/popper.min.js"></script>
  <script src="/static/js/bootstrap.min.js"></script>
  <script src="/static/js/jquery.easing.1.3.js"></script>
  <script src="/static/js/jquery.waypoints.min.js"></script>
  <script src="/static/js/jquery.stellar.min.js"></script>
  <script src="/static/js/owl.carousel.min.js"></script>
  <script src="/static/js/jquery.magnific-popup.min.js"></script>
  <script src="/static/js/aos.js"></script>
  <script src="/static/js/jquery.animateNumber.min.js"></script>
  <script src="/static/js/jquery.mb.YTPlayer.min.js"></script>
  <script src="/static/js/scrollax.min.js"></script>
  <script src="/static/js/main.js"></script>

  </body>
</html>